<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add Doctor Details</title>
  <!-- Link CSS -->
  <link rel="stylesheet" href="css/adddoctors.css" />
</head>
<body>
  <div class="form-container">
    <div class="doctor-icon">üë®‚Äç‚öïÔ∏è</div>
    <h2>Add Doctor Details</h2>

    <form id="doctorForm">
      <div class="form-row">
        <div>
          <label for="name">Full Name:</label>
          <input type="text" id="name" name="name" required />
        </div>
        <div>
          <label for="category">Category:</label>
          <select id="category" name="category" required>
            <option value="">-- Select Category --</option>

            <!-- Core Mental Health Specialists -->
            <option value="Psychiatrist">Psychiatrist (MD)</option>
            <option value="ClinicalPsychologist">Clinical Psychologist</option>
            <option value="CounsellingPsychologist">Counselling Psychologist</option>
            <option value="Psychotherapist">Psychotherapist / CBT Therapist</option>

            <!-- Specialised Areas -->
            <option value="ChildAdolescentSpecialist">Child & Adolescent Psychiatrist / Psychologist</option>
            <option value="AddictionSpecialist">Addiction Psychiatrist / Counsellor</option>
            <option value="Neuropsychologist">Neuropsychologist</option>
            <option value="SleepSpecialist">Sleep Specialist</option>
            <option value="TraumaSpecialist">Trauma Specialist</option>
            <option value="FamilyTherapist">Marriage & Family Therapist</option>
            <option value="Counsellor">School / University Counsellor</option>

            <!-- Generic -->
            <option value="Other">Other</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div>
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div>
          <label for="phone">Phone Number:</label>
          <input type="tel" id="phone" name="phone" required />
        </div>
      </div>

      <label for="profile_picture">Profile Picture (PNG, JPG, max 5MB):</label>
      <input type="file" id="profile_picture" name="profile_picture" accept="image/*" required />
      <div class="file-info" id="profileInfo"></div>

      <div class="progress-container" id="progressContainer">
        <div class="progress-bar" id="progressBar">0%</div>
      </div>

      <button type="submit" id="submitBtn">Add Doctor</button>
      <p class="success" id="successMsg"></p>
      <p class="error" id="errorMsg"></p>
    </form>

<div class="policy-help">
  <details>
    <summary>Database Setup Required</summary>
    <p>Run this SQL in your Supabase SQL editor to create the doctors table:</p>
    <code>
      CREATE TABLE doctors (<br/>
      &nbsp;&nbsp;id SERIAL PRIMARY KEY,<br/>
      &nbsp;&nbsp;name VARCHAR(100) NOT NULL,<br/>
      &nbsp;&nbsp;email VARCHAR(100) UNIQUE NOT NULL,<br/>
      &nbsp;&nbsp;phone VARCHAR(20) NOT NULL,<br/>
      &nbsp;&nbsp;category VARCHAR(50) NOT NULL,<br/>
      &nbsp;&nbsp;profilepicture TEXT,<br/>
      &nbsp;&nbsp;created_at TIMESTAMP DEFAULT NOW()<br/>
      );
    </code>
    <p>Also add these RLS policies for your <code>doctor_profiles</code> bucket:</p>
    <code>
      CREATE POLICY "Allow public uploads"<br/>
      ON storage.objects FOR INSERT<br/>
      TO authenticated, anon<br/>
      WITH CHECK (bucket_id = 'doctor_profiles');
    </code>
  </details>
</div>


  </div>

  <!-- Supabase SDK + JS file -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/adddoctors.js" defer></script>
</body>
</html>
